<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>A4Tech & Bloody Store</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
body{background:#f5f5f5;color:#333;line-height:1.6}
.container{max-width:1200px;margin:0 auto;padding:0 20px}
header{background:#00AEEF;color:#fff;padding:15px 0;box-shadow:0 4px 12px rgba(0,0,0,0.1);position:sticky;top:0;z-index:100}
.header-content{display:flex;justify-content:space-between;align-items:center}
h1{font-size:1.8rem;font-weight:600}
.cart-icon{position:relative;font-size:1.4rem;cursor:pointer;padding:10px;border-radius:50%;background:rgba(255,255,255,0.2)}
.cart-count{position:absolute;top:-5px;right:-5px;background:#ff4757;color:#fff;border-radius:50%;width:22px;height:22px;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:bold}
.controls{display:flex;justify-content:space-between;margin:20px 0;background:#fff;padding:15px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.05)}
.search-box{padding:8px 15px;border:1px solid #ddd;border-radius:5px;width:250px}
.brand-buttons,.category-buttons{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}
.brand-btn,.category-btn{padding:8px 15px;border:1px solid #ddd;background:#fff;border-radius:5px;cursor:pointer;transition:.3s}
.brand-btn.active,.category-btn.active{background:#2575fc;color:#fff;border-color:#2575fc}
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:25px;margin-bottom:40px}
.product-card{background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.05);transition:.3s;display:flex;flex-direction:column;height:100%}
.product-card:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,0.1)}
.product-image{height:240px;width:100%;object-fit:cover}
.product-info{padding:15px;flex:1;display:flex;flex-direction:column}
.product-title{font-size:1.1rem;margin-bottom:6px}
.product-description{color:#666;font-size:.9rem;margin-bottom:8px;flex:1}
.product-price{font-size:1.2rem;font-weight:700;color:#25D366;margin-bottom:10px}
.add-to-cart{background:#25D366;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer;font-weight:600}
.add-to-cart:hover{background:#128C7E}
.out-of-stock{background:#ff4757;color:#fff;border:none;padding:10px;border-radius:5px;font-weight:600}
.floating-cart-btn{position:fixed;right:20px;bottom:20px;background:#25D366;color:#fff;border:none;padding:14px 18px;border-radius:40px;box-shadow:0 5px 15px rgba(0,0,0,0.2);cursor:pointer;display:flex;align-items:center;gap:8px;font-weight:600;z-index:99}
.floating-cart-btn:hover{background:#128C7E}
.cart-popup{position:fixed;top:0;right:-420px;width:100%;max-width:380px;height:100vh;background:#fff;box-shadow:-5px 0 15px rgba(0,0,0,0.1);transition:right .4s ease;z-index:1000;display:flex;flex-direction:column;border-radius:10px 0 0 10px}
.cart-popup.active{right:0}
.cart-header{padding:18px;background:#25D366;color:#fff;display:flex;justify-content:space-between;align-items:center;border-radius:10px 0 0 0}
.cart-items{flex:1;overflow-y:auto;padding:15px}
.cart-footer{padding:15px;border-top:1px solid #eee;background:#f9f9f9;border-radius:0 0 0 10px}
.cart-item{display:flex;gap:10px;align-items:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid #eee}
.cart-item img{width:70px;height:70px;object-fit:cover;border-radius:8px}
.cart-item div strong{font-size:.95rem}
.checkout-btn{background:#25D366;color:#fff;border:none;padding:12px;border-radius:6px;width:100%;font-weight:600;cursor:pointer;font-size:1rem}
.checkout-btn:hover{background:#128C7E}
.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:999;display:none}
.overlay.active{display:block}
.success-message{background:#1dd1a1;color:#fff;padding:10px;border-radius:5px;margin:10px;text-align:center}
@media(max-width:768px){.product-image{height:180px}.controls{flex-direction:column;gap:10px}.search-box{width:100%}}
</style>
</head>
<body>
<header>
  <div class="container header-content">
    <h1>A4Tech & Bloody Store</h1>
    <div style="display:flex;align-items:center;gap:12px;">
      <div class="cart-icon" id="cartIcon"><i class="fas fa-shopping-cart"></i><div class="cart-count" id="cartCount">0</div></div>
    </div>
  </div>
</header>

<div class="container">
  <div class="controls">
    <input id="searchBox" class="search-box" placeholder="Search products...">
  </div>
  <div class="brand-buttons" id="brandButtons"></div>
  <div class="category-buttons" id="categoryButtons" style="display:none;"></div>
  <div class="products-grid" id="productsGrid"></div>
</div>

<div class="overlay" id="overlay"></div>

<div class="cart-popup" id="cartPopup">
  <div class="cart-header">
    <h2>Your Cart</h2>
    <button id="closeCart" style="background:none;border:none;color:white;font-size:1.3rem;cursor:pointer"><i class="fas fa-times"></i></button>
  </div>
  <div class="cart-items" id="cartItems"></div>
  <div class="cart-footer">
    <div style="display:flex;justify-content:space-between;font-weight:700;margin-bottom:8px"><span>Total:</span><span id="cartTotal">Rs. 0</span></div>
    <button id="checkoutBtn" class="checkout-btn"><i class="fab fa-whatsapp"></i> Checkout via WhatsApp</button>
  </div>
</div>

<button class="floating-cart-btn" id="floatingCartBtn"><i class="fas fa-shopping-cart"></i> <span id="floatingCartTotal">Rs. 0</span></button>

<script>
const PHONE='923332200318';
const products=[
 {id:1,name:'A4Tech X7 Gaming Mouse',price:2200,image:'https://via.placeholder.com/400x300?text=A4Tech+X7',description:'High precision mouse for gaming.',brand:'A4Tech',category:'Mouse',stock:'yes'},
 {id:2,name:'A4Tech Full HD Webcam',price:3500,image:'https://via.placeholder.com/400x300?text=A4Tech+Webcam',description:'1080p webcam with autofocus.',brand:'A4Tech',category:'Webcam',stock:'yes'},
 {id:3,name:'Bloody H540 Wired Headset',price:4200,image:'https://via.placeholder.com/400x300?text=Bloody+H540',description:'ANC wired headset with clear mic.',brand:'Bloody',category:'Headset',stock:'yes'},
 {id:4,name:'Bloody Mechanical Keyboard K700',price:5200,image:'https://via.placeholder.com/400x300?text=Bloody+K700',description:'RGB mechanical keyboard.',brand:'Bloody',category:'Keyboard',stock:'yes'}
];
let cart=[],currentBrand=null;
const brandWrap=document.getElementById('brandButtons'),
categoryWrap=document.getElementById('categoryButtons'),
productsGrid=document.getElementById('productsGrid'),
cartPopup=document.getElementById('cartPopup'),
overlay=document.getElementById('overlay'),
cartItems=document.getElementById('cartItems'),
cartCount=document.getElementById('cartCount'),
cartTotal=document.getElementById('cartTotal'),
floatingTotal=document.getElementById('floatingCartTotal'),
searchBox=document.getElementById('searchBox');

function init(){
 renderBrands();
 renderProducts(products);
 setupEvents();
}
function renderBrands(){
 const brands=[...new Set(products.map(p=>p.brand))];
 brandWrap.innerHTML=brands.map(b=>`<button class="brand-btn" data-brand="${b}">${b}</button>`).join('');
 document.querySelectorAll('.brand-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
   document.querySelectorAll('.brand-btn').forEach(x=>x.classList.remove('active'));
   btn.classList.add('active');
   currentBrand=btn.dataset.brand;
   renderCategories(currentBrand);
  });
 });
}
function renderCategories(brand){
 const cats=[...new Set(products.filter(p=>p.brand===brand).map(p=>p.category))];
 categoryWrap.style.display='flex';
 categoryWrap.innerHTML=cats.map(c=>`<button class="category-btn" data-cat="${c}">${c}</button>`).join('');
 document.querySelectorAll('.category-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
   document.querySelectorAll('.category-btn').forEach(x=>x.classList.remove('active'));
   btn.classList.add('active');
   const cat=btn.dataset.cat;
   renderProducts(products.filter(p=>p.brand===brand&&p.category===cat));
  });
 });
}
function renderProducts(list){
 productsGrid.innerHTML='';
 const q=searchBox.value.toLowerCase();
 const filtered=list.filter(p=>p.name.toLowerCase().includes(q)||p.description.toLowerCase().includes(q));
 filtered.forEach(p=>{
  const card=document.createElement('div');
  card.className='product-card';
  card.innerHTML=`
  <img class="product-image" src="${p.image}" alt="${p.name}" onerror="this.src='https://via.placeholder.com/400x300?text=No+Image'">
  <div class="product-info">
    <h3 class="product-title">${p.name}</h3>
    <p class="product-description">${p.description}</p>
    <div class="product-price">Rs. ${p.price}</div>
    <button class="${p.stock==='no'?'out-of-stock':'add-to-cart'}" ${p.stock==='no'?'disabled':''} data-id="${p.id}">${p.stock==='no'?'Out of Stock':'Add to Cart'}</button>
  </div>`;
  productsGrid.appendChild(card);
 });
 document.querySelectorAll('.add-to-cart').forEach(btn=>{
  btn.addEventListener('click',()=>{
   const id=+btn.dataset.id;addToCart(id);
  });
 });
}
function addToCart(id){
 const p=products.find(x=>x.id===id);
 if(!p)return;
 const e=cart.find(i=>i.id===id);
 e?e.qty++:cart.push({...p,qty:1});
 updateCartUI();
 showMsg(`${p.name} added to cart!`);
}
function updateCartUI(){
 cartItems.innerHTML='';
 let total=0;
 cart.forEach(i=>{
  total+=i.price*i.qty;
  const d=document.createElement('div');
  d.className='cart-item';
  d.innerHTML=`
   <img src="${i.image}" alt="">
   <div style="flex:1">
    <strong>${i.name}</strong><br>
    <small>Rs. ${i.price} Ã— ${i.qty}</small>
   </div>
   <div>
    <button onclick="chgQty(${i.id},-1)">âˆ’</button>
    <button onclick="chgQty(${i.id},1)">+</button>
    <button onclick="rmv(${i.id})"><i class='fas fa-trash'></i></button>
   </div>`;
  cartItems.appendChild(d);
 });
 cartCount.textContent=cart.reduce((s,i)=>s+i.qty,0);
 cartTotal.textContent=`Rs. ${total}`;
 floatingTotal.textContent=`Rs. ${total}`;
}
function chgQty(id,delta){
 const it=cart.find(i=>i.id===id);
 if(!it)return;
 it.qty+=delta;if(it.qty<=0)cart=cart.filter(i=>i.id!==id);
 updateCartUI();
}
function rmv(id){cart=cart.filter(i=>i.id!==id);updateCartUI();}
function checkout(){
 if(cart.length===0)return alert('Cart empty!');
 let msg="ðŸ› Order details:\n",t=0;
 cart.forEach(i=>{msg+=`â€¢ ${i.name} x${i.qty} = Rs ${i.price*i.qty}\n`;t+=i.price*i.qty;});
 msg+=`\nTotal: Rs ${t}`;
 window.open(`https://wa.me/${PHONE}?text=${encodeURIComponent(msg)}`,'_blank');
}
function setupEvents(){
 document.getElementById('cartIcon').onclick=()=>toggleCart(true);
 document.getElementById('floatingCartBtn').onclick=()=>toggleCart(true);
 document.getElementById('closeCart').onclick=()=>toggleCart(false);
 overlay.onclick=()=>toggleCart(false);
 document.getElementById('checkoutBtn').onclick=checkout;
 searchBox.oninput=()=>renderProducts(products);
}
function toggleCart(show){
 cartPopup.classList.toggle('active',show);
 overlay.classList.toggle('active',show);
 document.body.style.overflow=show?'hidden':'auto';
}
function showMsg(txt){
 const d=document.createElement('div');
 d.className='success-message';d.textContent=txt;
 document.body.prepend(d);setTimeout(()=>d.remove(),2000);
}
init();
</script>
</body>
</html>
